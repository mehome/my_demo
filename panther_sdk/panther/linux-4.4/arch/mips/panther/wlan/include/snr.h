#ifndef __DRAONITE_SNR_H__
#define __DRAONITE_SNR_H__
#define LOG_TBL_SIZE 64
int snr_calc(unsigned char snr, unsigned char part1, unsigned char part2);
#if defined(USE_SNR_TABLE)
unsigned long part1_to_x[256] = {
0x00000000,
0x00861c46,
0x010c388d,
0x019254d3,
0x0218711a,
0x029e8d60,
0x0324a9a7,
0x03aac5ed,
0x0430e234,
0x04b6fe7a,
0x053d1ac1,
0x05c33707,
0x0649534e,
0x06cf6f94,
0x07558bdb,
0x07dba821,
0x0861c468,
0x08e7e0ae,
0x096dfcf5,
0x09f4193b,
0x0a7a3582,
0x0b0051c8,
0x0b866e0f,
0x0c0c8a55,
0x0c92a69c,
0x0d18c2e2,
0x0d9edf29,
0x0e24fb6f,
0x0eab17b6,
0x0f3133fc,
0x0fb75043,
0x103d6c89,
0x10c388d0,
0x1149a516,
0x11cfc15d,
0x1255dda3,
0x12dbf9ea,
0x13621630,
0x13e83277,
0x146e4ebd,
0x14f46b04,
0x157a874a,
0x1600a391,
0x1686bfd7,
0x170cdc1e,
0x1792f864,
0x181914ab,
0x189f30f1,
0x19254d38,
0x19ab697e,
0x1a3185c5,
0x1ab7a20b,
0x1b3dbe52,
0x1bc3da98,
0x1c49f6df,
0x1cd01325,
0x1d562f6c,
0x1ddc4bb2,
0x1e6267f9,
0x1ee8843f,
0x1f6ea086,
0x1ff4bccc,
0x207ad913,
0x2100f559,
0x218711a0,
0x220d2de6,
0x22934a2d,
0x23196673,
0x239f82ba,
0x24259f00,
0x24abbb47,
0x2531d78d,
0x25b7f3d4,
0x263e101a,
0x26c42c61,
0x274a48a7,
0x27d064ee,
0x28568134,
0x28dc9d7b,
0x2962b9c1,
0x29e8d608,
0x2a6ef24e,
0x2af50e95,
0x2b7b2adb,
0x2c014722,
0x2c876368,
0x2d0d7faf,
0x2d939bf5,
0x2e19b83c,
0x2e9fd482,
0x2f25f0c9,
0x2fac0d0f,
0x30322956,
0x30b8459c,
0x313e61e3,
0x31c47e29,
0x324a9a70,
0x32d0b6b6,
0x3356d2fd,
0x33dcef43,
0x34630b8a,
0x34e927d0,
0x356f4417,
0x35f5605d,
0x367b7ca4,
0x370198ea,
0x3787b531,
0x380dd177,
0x3893edbe,
0x391a0a04,
0x39a0264b,
0x3a264291,
0x3aac5ed8,
0x3b327b1e,
0x3bb89765,
0x3c3eb3ab,
0x3cc4cff2,
0x3d4aec38,
0x3dd1087f,
0x3e5724c5,
0x3edd410c,
0x3f635d52,
0x3fe97999,
0x406f95df,
0x40f5b226,
0x417bce6c,
0x4201eab3,
0x428806f9,
0x430e2340,
0x43943f86,
0x441a5bcd,
0x44a07813,
0x4526945a,
0x45acb0a0,
0x4632cce7,
0x46b8e92d,
0x473f0574,
0x47c521ba,
0x484b3e01,
0x48d15a47,
0x4957768e,
0x49dd92d4,
0x4a63af1b,
0x4ae9cb61,
0x4b6fe7a8,
0x4bf603ee,
0x4c7c2035,
0x4d023c7b,
0x4d8858c2,
0x4e0e7508,
0x4e94914f,
0x4f1aad95,
0x4fa0c9dc,
0x5026e622,
0x50ad0269,
0x51331eaf,
0x51b93af6,
0x523f573c,
0x52c57383,
0x534b8fc9,
0x53d1ac10,
0x5457c856,
0x54dde49d,
0x556400e3,
0x55ea1d2a,
0x56703970,
0x56f655b7,
0x577c71fd,
0x58028e44,
0x5888aa8a,
0x590ec6d1,
0x5994e317,
0x5a1aff5e,
0x5aa11ba4,
0x5b2737eb,
0x5bad5431,
0x5c337078,
0x5cb98cbe,
0x5d3fa905,
0x5dc5c54b,
0x5e4be192,
0x5ed1fdd8,
0x5f581a1f,
0x5fde3665,
0x606452ac,
0x60ea6ef2,
0x61708b39,
0x61f6a77f,
0x627cc3c6,
0x6302e00c,
0x6388fc53,
0x640f1899,
0x649534e0,
0x651b5126,
0x65a16d6d,
0x662789b3,
0x66ada5fa,
0x6733c240,
0x67b9de87,
0x683ffacd,
0x68c61714,
0x694c335a,
0x69d24fa1,
0x6a586be7,
0x6ade882e,
0x6b64a474,
0x6beac0bb,
0x6c70dd01,
0x6cf6f948,
0x6d7d158e,
0x6e0331d5,
0x6e894e1b,
0x6f0f6a62,
0x6f9586a8,
0x701ba2ef,
0x70a1bf35,
0x7127db7c,
0x71adf7c2,
0x72341409,
0x72ba304f,
0x73404c96,
0x73c668dc,
0x744c8523,
0x74d2a169,
0x7558bdb0,
0x75ded9f6,
0x7664f63d,
0x76eb1283,
0x77712eca,
0x77f74b10,
0x787d6757,
0x7903839d,
0x79899fe4,
0x7a0fbc2a,
0x7a95d871,
0x7b1bf4b7,
0x7ba210fe,
0x7c282d44,
0x7cae498b,
0x7d3465d1,
0x7dba8218,
0x7e409e5e,
0x7ec6baa5,
0x7f4cd6eb,
0x7fd2f332,
0x80590f78,
0x80df2bbf,
0x81654805,
0x81eb644c,
0x82718092,
0x82f79cd9,
0x837db91f,
0x8403d566,
0x8489f1ac,
0x85100df3,
0x85962a39,
};
unsigned long part2_to_y[256] = {
0x861c4680,
0x430e2340,
0x218711a0,
0x10c388d0,
0x0861c468,
0x0430e234,
0x0218711a,
0x010c388d,
0x00861c46,
0x00430e23,
0x00218711,
0x0010c388,
0x000861c4,
0x000430e2,
0x00021871,
0x00010c38,
0x0000861c,
0x0000430e,
0x00002187,
0x000010c3,
0x00000861,
0x00000430,
0x00000218,
0x0000010c,
0x00000086,
0x00000043,
0x00000021,
0x00000010,
0x00000008,
0x00000004,
0x00000002,
0x00000001,
0x96dfcf50,
0x4b6fe7a8,
0x25b7f3d4,
0x12dbf9ea,
0x096dfcf5,
0x04b6fe7a,
0x025b7f3d,
0x012dbf9e,
0x0096dfcf,
0x004b6fe7,
0x0025b7f3,
0x0012dbf9,
0x00096dfc,
0x0004b6fe,
0x00025b7f,
0x00012dbf,
0x000096df,
0x00004b6f,
0x000025b7,
0x000012db,
0x0000096d,
0x000004b6,
0x0000025b,
0x0000012d,
0x00000096,
0x0000004b,
0x00000025,
0x00000012,
0x00000009,
0x00000004,
0x00000002,
0x00000001,
0xa7a35820,
0x53d1ac10,
0x29e8d608,
0x14f46b04,
0x0a7a3582,
0x053d1ac1,
0x029e8d60,
0x014f46b0,
0x00a7a358,
0x0053d1ac,
0x0029e8d6,
0x0014f46b,
0x000a7a35,
0x00053d1a,
0x00029e8d,
0x00014f46,
0x0000a7a3,
0x000053d1,
0x000029e8,
0x000014f4,
0x00000a7a,
0x0000053d,
0x0000029e,
0x0000014f,
0x000000a7,
0x00000053,
0x00000029,
0x00000014,
0x0000000a,
0x00000005,
0x00000002,
0x00000001,
0xb866e0f0,
0x5c337078,
0x2e19b83c,
0x170cdc1e,
0x0b866e0f,
0x05c33707,
0x02e19b83,
0x0170cdc1,
0x00b866e0,
0x005c3370,
0x002e19b8,
0x00170cdc,
0x000b866e,
0x0005c337,
0x0002e19b,
0x000170cd,
0x0000b866,
0x00005c33,
0x00002e19,
0x0000170c,
0x00000b86,
0x000005c3,
0x000002e1,
0x00000170,
0x000000b8,
0x0000005c,
0x0000002e,
0x00000017,
0x0000000b,
0x00000005,
0x00000002,
0x00000001,
0xc92a69c0,
0x649534e0,
0x324a9a70,
0x19254d38,
0x0c92a69c,
0x0649534e,
0x0324a9a7,
0x019254d3,
0x00c92a69,
0x00649534,
0x00324a9a,
0x0019254d,
0x000c92a6,
0x00064953,
0x000324a9,
0x00019254,
0x0000c92a,
0x00006495,
0x0000324a,
0x00001925,
0x00000c92,
0x00000649,
0x00000324,
0x00000192,
0x000000c9,
0x00000064,
0x00000032,
0x00000019,
0x0000000c,
0x00000006,
0x00000003,
0x00000001,
0xd9edf290,
0x6cf6f948,
0x367b7ca4,
0x1b3dbe52,
0x0d9edf29,
0x06cf6f94,
0x0367b7ca,
0x01b3dbe5,
0x00d9edf2,
0x006cf6f9,
0x00367b7c,
0x001b3dbe,
0x000d9edf,
0x0006cf6f,
0x000367b7,
0x0001b3db,
0x0000d9ed,
0x00006cf6,
0x0000367b,
0x00001b3d,
0x00000d9e,
0x000006cf,
0x00000367,
0x000001b3,
0x000000d9,
0x0000006c,
0x00000036,
0x0000001b,
0x0000000d,
0x00000006,
0x00000003,
0x00000001,
0xeab17b60,
0x7558bdb0,
0x3aac5ed8,
0x1d562f6c,
0x0eab17b6,
0x07558bdb,
0x03aac5ed,
0x01d562f6,
0x00eab17b,
0x007558bd,
0x003aac5e,
0x001d562f,
0x000eab17,
0x0007558b,
0x0003aac5,
0x0001d562,
0x0000eab1,
0x00007558,
0x00003aac,
0x00001d56,
0x00000eab,
0x00000755,
0x000003aa,
0x000001d5,
0x000000ea,
0x00000075,
0x0000003a,
0x0000001d,
0x0000000e,
0x00000007,
0x00000003,
0x00000001,
0xfb750430,
0x7dba8218,
0x3edd410c,
0x1f6ea086,
0x0fb75043,
0x07dba821,
0x03edd410,
0x01f6ea08,
0x00fb7504,
0x007dba82,
0x003edd41,
0x001f6ea0,
0x000fb750,
0x0007dba8,
0x0003edd4,
0x0001f6ea,
0x0000fb75,
0x00007dba,
0x00003edd,
0x00001f6e,
0x00000fb7,
0x000007db,
0x000003ed,
0x000001f6,
0x000000fb,
0x0000007d,
0x0000003e,
0x0000001f,
0x0000000f,
0x00000007,
0x00000003,
0x00000001,
};
unsigned long table_10_log10[LOG_TBL_SIZE] = {
0x00000001,
0x00000001,
0x00000001,
0x00000001,
0x00000002,
0x00000003,
0x00000003,
0x00000005,
0x00000006,
0x00000007,
0x0000000a,
0x0000000c,
0x0000000f,
0x00000013,
0x00000019,
0x0000001f,
0x00000027,
0x00000032,
0x0000003f,
0x0000004f,
0x00000064,
0x0000007d,
0x0000009e,
0x000000c7,
0x000000fb,
0x0000013c,
0x0000018e,
0x000001f5,
0x00000276,
0x0000031a,
0x000003e8,
0x000004ea,
0x00000630,
0x000007cb,
0x000009cf,
0x00000c5a,
0x00000f8d,
0x00001393,
0x000018a5,
0x00001f07,
0x00002710,
0x0000312d,
0x00003de8,
0x00004df0,
0x0000621e,
0x00007b86,
0x00009b82,
0x0000c3c6,
0x0000f677,
0x00013648,
0x000186a0,
0x0001ebc4,
0x00026b19,
0x00030b66,
0x0003d534,
0x0004d343,
0x0006131b,
0x0007a5c3,
0x0009a0ad,
0x000c1ed8,
0x000f4240,
0x001335ad,
0x00182efd,
0x001e71fe,
};
#endif
#endif //__DRAONITE_SNR_H__
