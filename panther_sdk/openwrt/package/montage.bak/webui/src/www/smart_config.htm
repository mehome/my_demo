<!DOCTYPE HTML>
<html>

<head>
 <title>Panther</title>
 <META http-equiv=Content-Type content='text/html; charset=utf-8'>
 <SCRIPT src=common.js></SCRIPT>
 <SCRIPT src=wdk.js></SCRIPT>
 <SCRIPT src=product.js></SCRIPT>
 <link rel=stylesheet type=text/css href=demo2.css>
 <script type="text/javascript">
var waitingPeriodInp = null;
var selectedWorkMode = null;

function init() {
	setAlias();
}

function setAlias() {
	waitingPeriodInp = document.getElementById("waitingPeriodInp");
	selectedWorkMode = document.getElementById("smartConfigWorkMode");
}

function updateWaitingPeriod() {
	if (!(waitingPeriodInp.value == 0 || waitingPeriodInp.value >= 20 && waitingPeriodInp.value <= 60)) {
		alert(wdk.msg("Incorrect waiting time"));
		highlight("waitingPeriodInp");
		return;
	}
	var expiredTime = Number(waitingPeriodInp.value);
	wdk.cliCmd("$smrt_timeout=" + expiredTime);
}

function updateWorkMode() {
	if (selectedWorkMode.selectedIndex == 0) {
		wdk.cliCmd("simlink client");
	} else if (selectedWorkMode.selectedIndex == 1) {
		wdk.cliCmd("simlink wisp");
	} else {
		console.log("updateWorkMode:exception ");
	}
}

function startSmartConfig() {
	updateWaitingPeriod();
	updateWorkMode();
}
 </script>
</head>

<body class=gui onload=init() onkeydown="(event.keyCode==13) ? 0 : 1">
 <script>
header()
 </script>
 <fieldset>
  <legend>
   <script type="text/javascript">
wdk.putmsg("Smart Configure");
   </script>
  </legend>
  <div class="setting">
   <label class="label">
    <script type="text/javascript">
wdk.putmsg("Waiting period");
    </script>
   </label>
   <input id="waitingPeriodInp" value=0 maxlength=3>
   <label>
    <script>
wdk.putmsg("20 - 60 (S), 0: No Wait");
    </script>
   </label>
  </div>
  <div class="setting">
   <label class="label">
    <script type="text/javascript">
wdk.putmsg("Select work mode");
    </script>
   </label>
   <select id="smartConfigWorkMode">
    <option value="0">
     <script>
wdk.putmsg("Station");
     </script>
    </option>
    <option value="1">
     <script>
wdk.putmsg("WISP");
     </script>
    </option>
   </select>
  </div>
  <div id="smartConfigControl" class="setting">
   <label class="label">
    <script type="text/javascript">
wdk.putmsg("Start smart config");
    </script>
   </label>
   <input id="smartConfigBtn" type="button" value="Start" onclick=startSmartConfig()>
  </div>
 </fieldset>
 <script>
footer(1)
 </script>

</html>
