<!DOCTYPE HTML>
<HTML>

<head>
 <title>Panther</title>
 <META http-equiv=Content-Type content='text/html; charset=utf-8'>
 <SCRIPT src=common.js></SCRIPT>
 <SCRIPT src=wdk.js></SCRIPT>
 <SCRIPT src=product.js></SCRIPT>
 <SCRIPT>
wdk.cdbLoad(['$upnp_enable', '$upnp_port', '$upnp_adv_time', '$upnp_sub_timeout', 'upnp map']);

var r = wdk.cdbValA('upnp map');
var listnum;
var max = 100;

function init() {
	var f = document.frm;
	listnum = r.length;
	refreshList('upnp_map', max, listnum);
	f.reset();
	wdk.init_form();
	showHide('edit', Number(wdk.cdbVal('$upnp_enable')));
	for (var i = 1; i <= listnum; i++) {
		wdk.fill_form_entry(wdk.getById('upnp_map' + i), r[i - 1]);
	}
}

function apply() {
	var f = document.frm;
	if (f.UpnpStatus.checked) {
		if (!chkNum(f.UpnpAdvTime, 60, 1800, "Advertise Time")) {
			highlight("$upnp_adv_time");
			return;
		}
	}
	wdk.save_form(2000);
}
 </SCRIPT>

 <link rel=stylesheet type=text/css href=demo2.css>
</HEAD>

<body class=gui onload=init() onkeydown="(event.keyCode==13) ? 0 : 1">
 <script>
header()
 </script>
 <form name=frm>
  <fieldset>
   <legend>
    <script>
wdk.putmsg('Settings');
    </script>
   </legend>
   <div class=setting>
    <div class=label>
     <script>
wdk.putmsg('Enable UPnP');
     </script>
    </div>
    <input type=checkbox name=UpnpStatus id=$upnp_enable onclick="showHide('edit',this.checked)">
    <script>
wdk.putmsg('Enabled')
    </script>
   </div>
   <div id=edit>
    <!--
	<div class=setting>
		<div class=label><script>wdk.putmsg('UPnP Port Number');</script> (1-65535)</div>
		<input name=UpnpPort id=$upnp_port maxlength=5 size=5>
	</div> -->
    <div class=setting>
     <div class=label>
      <script>
wdk.putmsg('Advertise Time');
      </script>(60-1800)</div>
     <input name=UpnpAdvTime id=$upnp_adv_time maxlength=5 size=5>
    </div>
    <!--
	<div class=setting>
		<div class=label><script>wdk.putmsg('Subscribe Timeout');</script>(60-1800)</div>
		<input name=UpnpSubTime id=$upnp_sub_timeout maxlength=5 size=5>
	</div>
	-->
    <br>
    <div class=setting>
     <div class=label>
      <script>
wdk.putmsg('Refresh Port Mapping');
      </script>
     </div>
     <script>
puts('<input type=button class=button valign=center value="' + wdk.msg("Refresh") + '" onclick=refreshPage()>');
     </script>
    </div>
    <hr>
    <table class=infolist id=list>
     <tr>
      <th>
       <script>
wdk.putmsg('Remote Host');
       </script>
      </th>
      <th>
       <script>
wdk.putmsg('External Port');
       </script>
      </th>
      <th>
       <script>
wdk.putmsg('Internal Client');
       </script>
      </th>
      <th>
       <script>
wdk.putmsg('Internal Port');
       </script>
      </th>
      <th>
       <script>
wdk.putmsg('Protocol');
       </script>
      </th>
      <th>
       <script>
wdk.putmsg('Description');
       </script>
      </th>
     </tr>
     <tr align=center id=upnp_map1>
      <td>
       <input name=rip disabled size=15>
      </td>
      <td>
       <input name=gp disabled size=5>
      </td>
      <td>
       <input name=lip disabled size=15>
      </td>
      <td>
       <input name=lp disabled size=5>
      </td>
      <td>
       <input name=prot disabled size=10>
      </td>
      <td>
       <input name=desc disabled size=15>
      </td>
     </tr>
    </table>
   </div>
  </fieldset>

  <script>
footer()
  </script>
 </form>

</html>
